-- –í —Å–∞–º–æ–º –Ω–∞—á–∞–ª–µ —Å–∫—Ä–∏–ø—Ç–∞ –¥–æ–±–∞–≤–ª—è–µ–º –∑–∞—â–∏—Ç—É –æ—Ç —Å–ª–∏—à–∫–æ–º —á–∞—Å—Ç—ã—Ö –∑–∞–ø—É—Å–∫–æ–≤:
if _G.SCRIPT_RUNNING_TIMESTAMP and os.time() - _G.SCRIPT_RUNNING_TIMESTAMP < 60 then
    print("‚ö†Ô∏è –°–ö–†–ò–ü–¢ –£–ñ–ï –ó–ê–ü–£–©–ï–ù! –ê–í–ê–†–ò–ô–ù–ê–Ø –û–°–¢–ê–ù–û–í–ö–ê...")
    _G.SCRIPT_RUNNING_TIMESTAMP = os.time()
    task.wait(5)
    game:GetService("TeleportService"):Teleport(85896571713843)
    return
end
_G.SCRIPT_RUNNING_TIMESTAMP = os.time()

-- –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –°–ò–°–¢–ï–ú–´ –ó–ê–©–ò–¢–´ –û–¢ –ó–ê–¶–ò–ö–õ–ò–í–ê–ù–ò–Ø
if not _G.SERVER_BLOCK_LIST then
    _G.SERVER_BLOCK_LIST = {}
end

-- –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ –±–ª–æ–∫–∏—Ä—É–µ–º —Ç–µ–∫—É—â–∏–π —Å–µ—Ä–≤–µ—Ä
_G.SERVER_BLOCK_LIST[game.JobId] = true

-- [[ –º–µ–Ω—è–π —ç—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ ]]
getgenv().Optimization = {
    state = true, -- –≤–∫–ª/–≤—ã–∫–ª
    hide_screen = true, -- –≤—ã–∫–ª—é—á–∞–µ—Ç –ø—Ä–æ—Ä–∏—Å–æ–≤–∫—É –≥—Ä–∞—Ñ–∏–∫–∏, –±—É—Å—Ç–∏—Ç –∂–µ—Å—Ç–æ—á–∞–π—à–µ —Ñ–ø—Å (–≤–∫–ª/–≤—ã–∫–ª)
    fps = 10
};

-- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä—Ö–æ–ø–∞
getgenv().ServerHopSettings = {
    min_players = 2, -- –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–≥—Ä–æ–∫–æ–≤ –≤ —Å–µ—Ä–≤–µ—Ä–µ –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞
    max_players = 10, -- –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–≥—Ä–æ–∫–æ–≤ –≤ —Å–µ—Ä–≤–µ—Ä–µ –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ (–∏–∑ 50)
    history_timeout = 3600, -- 1 —á–∞—Å - –≤—Ä–µ–º—è –∑–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–æ–≤ (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö)
    messages_sent = false, -- —Ñ–ª–∞–≥ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π (–ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—É—é –æ—Ç–ø—Ä–∞–≤–∫—É)
    fast_mode = true, -- —Ä–µ–∂–∏–º –±—ã—Å—Ç—Ä–æ–≥–æ —Å–µ—Ä–≤–µ—Ä—Ö–æ–ø–∞
    hop_interval = 10 -- –∏–Ω—Ç–µ—Ä–≤–∞–ª —Å–µ—Ä–≤–µ—Ä—Ö–æ–ø–∞ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
};

-- –°–æ–∑–¥–∞–µ–º –≥–ª–æ–±–∞–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –¥–ª—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —Å–µ—Ä–≤–µ—Ä—Ö–æ–ø–∞
_G.IS_HOPPING = false

-- –°–æ–∑–¥–∞–µ–º –≥–ª–æ–±–∞–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–æ–≤
if not _G.VISITED_SERVERS then
    _G.VISITED_SERVERS = {}
end

-- –°–æ–∑–¥–∞–µ–º —Ñ–∞–π–ª –¥–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ—Å–µ—â–µ–Ω–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤
local history_file = "server_history.json"
local http_service = game:GetService("HttpService");

-- –ó–∞–≥—Ä—É–∂–∞–µ–º –∏—Å—Ç–æ—Ä–∏—é —Å–µ—Ä–≤–µ—Ä–æ–≤ –∏–∑ —Ñ–∞–π–ª–∞ (–µ—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
pcall(function()
    if isfile(history_file) then
        local history_data = readfile(history_file)
        _G.VISITED_SERVERS = http_service:JSONDecode(history_data)
        print("–ó–∞–≥—Ä—É–∂–µ–Ω–∞ –∏—Å—Ç–æ—Ä–∏—è –ø–æ—Å–µ—â–µ–Ω–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤: " .. #_G.VISITED_SERVERS .. " —Å–µ—Ä–≤–µ—Ä–æ–≤")
    else
        print("–§–∞–π–ª –∏—Å—Ç–æ—Ä–∏–∏ —Å–µ—Ä–≤–µ—Ä–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω, —Å–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π")
        _G.VISITED_SERVERS = {}
    end
end)

-- –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ–∫—É—â–∏–π —Å–µ—Ä–≤–µ—Ä –≤ —Å–ø–∏—Å–æ–∫ –ø–æ—Å–µ—â–µ–Ω–Ω—ã—Ö
_G.VISITED_SERVERS[game.JobId] = os.time()
-- –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—É—é –∏—Å—Ç–æ—Ä–∏—é –≤ —Ñ–∞–π–ª
pcall(function()
    writefile(history_file, http_service:JSONEncode(_G.VISITED_SERVERS))
end)

-- –ó–∞–ø–æ–º–∏–Ω–∞–µ–º —Ç–µ–∫—É—â–∏–π —Å–µ—Ä–≤–µ—Ä —Ç–∞–∫–∂–µ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∑–∞—â–∏—Ç—ã
_G.CURRENT_SERVER = game.JobId
print("–¢–µ–∫—É—â–∏–π —Å–µ—Ä–≤–µ—Ä: " .. _G.CURRENT_SERVER .. " –¥–æ–±–∞–≤–ª–µ–Ω –≤ —á–µ—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫")

-- –°–æ–∑–¥–∞–µ–º –±–ª–æ–∫–∏—Ä–æ–≤–æ—á–Ω—ã–π —Ñ–∞–π–ª –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
pcall(function()
    writefile("blocked_server_" .. game.JobId .. ".txt", tostring(os.time()))
    writefile("last_server_" .. game.JobId .. ".txt", tostring(os.time()))
end)

if getgenv().Optimization.state then
    if setfpscap ~= nil then setfpscap(getgenv().Optimization.fps); end
    UserSettings().GameSettings.MasterVolume = 0;
    settings().Rendering.QualityLevel = "Level01";
    game:GetService("RunService"):Set3dRenderingEnabled(not getgenv().Optimization.hide_screen);
end

local players = game:GetService("Players");
local local_player = players.LocalPlayer;

-- –ù–û–í–´–ï –û–ë–ù–û–í–õ–ï–ù–ù–´–ï –°–û–û–ë–©–ï–ù–ò–Ø
local required_messages = {
    "Best Grow A Garden pet & sheckles shop ƒ£ƒ£/ astral-market",
    "Sheckles shop ƒ£ƒ£/ astral-market",
    "Beat the game with ƒ£ƒ£/ astral-market",
    "Giveaways happening at ƒ£ƒ£/ astral-market"
};

-- –ò–ó–ú–ï–ù–ï–ù–û: –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Å—Å—ã–ª–∫–∏ –¥–ª—è –ø—Ä—è–º–æ–≥–æ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É (–æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è Bubble Gum Simulator)
local join_link = string.format('https://www.roblox.com/games/start?placeId=85896571713843&launchData=%d/%s', game.PlaceId, game.JobId);

local request = (syn ~= nil and syn.request) or (http ~= nil and http.request) or (fluxus ~= nil and fluxus.request) or http_request or request;

task.spawn(function() -- anti afk
    for _,v in pairs(getconnections(local_player.Idled)) do v:Disable() end
    for _,v in pairs(getconnections(game:GetService("UserInputService").WindowFocused)) do v:Disable() end
    for _,v in pairs(getconnections(game:GetService("UserInputService").WindowFocusReleased)) do v:Disable() end
end)

-- –£–õ–£–ß–®–ï–ù–ù–ê–Ø –°–ò–°–¢–ï–ú–ê –û–¢–ü–†–ê–í–ö–ò –°–û–û–ë–©–ï–ù–ò–ô
task.spawn(function()
    -- –î–∞–µ–º –≤—Ä–µ–º—è –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏–≥—Ä—ã
    task.wait(2)
    
    -- –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–ª–∏ –ª–∏ –º—ã —É–∂–µ —Å–æ–æ–±—â–µ–Ω–∏—è
    if getgenv().ServerHopSettings.messages_sent then
        print("–°–æ–æ–±—â–µ–Ω–∏—è —É–∂–µ –±—ã–ª–∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã —Ä–∞–Ω–µ–µ")
        return
    end
    
    -- –ü—Ä–æ–±—É–µ–º –Ω–∞–π—Ç–∏ –∫–∞–Ω–∞–ª —á–∞—Ç–∞
    local channel
    local success = false
    
    -- –ú–µ—Ç–æ–¥ 1: TextChatService (–Ω–æ–≤—ã–π —á–∞—Ç)
    pcall(function()
        channel = game:GetService("TextChatService"):WaitForChild("TextChannels"):WaitForChild("RBXGeneral", 2)
        if channel then
            success = true
            print("‚úÖ –ù–∞–π–¥–µ–Ω TextChatService –∫–∞–Ω–∞–ª")
        end
    end)
    
    -- –ú–µ—Ç–æ–¥ 2: ReplicatedStorage (—Å—Ç–∞—Ä—ã–π —á–∞—Ç)
    if not success then
        pcall(function()
            local ChatEvents = game:GetService("ReplicatedStorage"):FindFirstChild("DefaultChatSystemChatEvents")
            if ChatEvents then
                local SayMessageRequest = ChatEvents:FindFirstChild("SayMessageRequest")
                if SayMessageRequest then
                    channel = {
                        SendAsync = function(_, message)
                            SayMessageRequest:FireServer(message, "All")
                            return true
                        end
                    }
                    success = true
                    print("‚úÖ –ù–∞–π–¥–µ–Ω Legacy Chat")
                end
            end
        end)
    end
    
    -- –ú–µ—Ç–æ–¥ 3: Players:Chat (–ø—Ä—è–º–æ–π –º–µ—Ç–æ–¥)
    if not success then
        pcall(function()
            channel = {
                SendAsync = function(_, message)
                    game:GetService("Players"):Chat(message)
                    return true
                end
            }
            success = true
            print("‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ–º Players:Chat –º–µ—Ç–æ–¥")
        end)
    end
    
    if not success or not channel then
        print("‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –Ω–∞–π—Ç–∏ —Å–∏—Å—Ç–µ–º—É —á–∞—Ç–∞")
        return
    end
    
    print("üì¢ –ù–∞—á–∏–Ω–∞–µ–º –æ—Ç–ø—Ä–∞–≤–∫—É —Å–æ–æ–±—â–µ–Ω–∏–π...")
    local messages_sent = 0
    
    -- –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏—è —Å –Ω–µ–±–æ–ª—å—à–∏–º –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º
    for i, message in ipairs(required_messages) do
        if i > 2 then break end -- –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–µ 2 —Å–æ–æ–±—â–µ–Ω–∏—è
        
        local sent = pcall(function()
            channel:SendAsync(message)
        end)
        
        if sent then
            messages_sent = messages_sent + 1
            print("‚úÖ –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ " .. i .. ": " .. message)
        else
            print("‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å: " .. message)
        end
        
        task.wait(1) -- –ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
    end
    
    print("üìä –í—Å–µ–≥–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ: " .. messages_sent .. " —Å–æ–æ–±—â–µ–Ω–∏–π")
    getgenv().ServerHopSettings.messages_sent = true
end)

-- –ù–ê–î–ï–ñ–ù–ê–Ø –°–ò–°–¢–ï–ú–ê –°–ï–†–í–ï–†–•–û–ü–ê
task.spawn(function()
    print("‚è±Ô∏è –ó–∞–ø—É—â–µ–Ω —Å–µ—Ä–≤–µ—Ä—Ö–æ–ø —Å –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º " .. getgenv().ServerHopSettings.hop_interval .. " —Å–µ–∫—É–Ω–¥")
    
    -- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ—Ä–≤–µ—Ä—Ö–æ–ø–∞
    local Player = game.Players.LocalPlayer    
    local Http = game:GetService("HttpService")
    local TPS = game:GetService("TeleportService")
    local Api = "https://games.roblox.com/v1/games/"

    local _place = 85896571713843 -- Bubble Gum Simulator INFINITY
    local _id = game.JobId
    
    -- Asc –¥–ª—è —Å–µ—Ä–≤–µ—Ä–æ–≤ —Å –Ω–∞–∏–º–µ–Ω—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∏–≥—Ä–æ–∫–æ–≤
    local _servers = Api.._place.."/servers/Public?sortOrder=Asc&limit=10"
    
    local function ListServers(cursor)
       local Raw = game:HttpGet(_servers .. ((cursor and "&cursor="..cursor) or ""))
       return Http:JSONDecode(Raw)
    end
    
    -- –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª —Å–µ—Ä–≤–µ—Ä—Ö–æ–ø–∞
    while task.wait(getgenv().ServerHopSettings.hop_interval) do
       -- –ó–∞–º–æ—Ä–∞–∂–∏–≤–∞–µ–º –∏–≥—Ä–æ–∫–∞ –ø–µ—Ä–µ–¥ —Ç–µ–ª–µ–ø–æ—Ä—Ç–∞—Ü–∏–µ–π –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —Å–±–æ–µ–≤
       pcall(function()
           if Player.Character and Player.Character:FindFirstChild("HumanoidRootPart") then
               Player.Character.HumanoidRootPart.Anchored = true
           end
       end)
       
       local success, Servers = pcall(function() 
           return ListServers() 
       end)
       
       if success and Servers and Servers.data and #Servers.data > 0 then
           -- –§–∏–ª—å—Ç—Ä—É–µ–º —Å–µ—Ä–≤–µ—Ä—ã, –∏—Å–∫–ª—é—á–∞—è —Ç–µ–∫—É—â–∏–π
           local validServers = {}
           for _, server in ipairs(Servers.data) do
               if server.id ~= game.JobId and 
                  not _G.SERVER_BLOCK_LIST[server.id] and
                  not _G.VISITED_SERVERS[server.id] then
                   table.insert(validServers, server)
               end
           end
           
           if #validServers > 0 then
               -- –í—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
               local Server = validServers[math.random(1, #validServers)]
               print("üéØ –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å–µ—Ä–≤–µ—Ä: " .. Server.id)
               
               -- –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–µ–∫—É—â–∏–π —Å–µ—Ä–≤–µ—Ä –≤ —Å–ø–∏—Å–æ–∫ –ø–æ—Å–µ—â–µ–Ω–Ω—ã—Ö
               _G.VISITED_SERVERS[game.JobId] = os.time()
               pcall(function()
                   writefile("last_server.txt", game.JobId)
                   writefile("target_server.txt", Server.id)
               end)
               
               -- –¢–µ–ª–µ–ø–æ—Ä—Ç–∞—Ü–∏—è
               TPS:TeleportToPlaceInstance(_place, Server.id, Player)
           else
               print("‚ö†Ô∏è –ù–µ—Ç –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤, –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä—è–º—É—é —Ç–µ–ª–µ–ø–æ—Ä—Ç–∞—Ü–∏—é")
               TPS:Teleport(_place, Player)
           end
       else
           print("‚ùå –û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–æ–≤, –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä—è–º—É—é —Ç–µ–ª–µ–ø–æ—Ä—Ç–∞—Ü–∏—é")
           TPS:Teleport(_place, Player)
       end
    end
end)

-- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–∏–∫–∞ —Å —Å–µ—Ä–≤–µ—Ä–∞
game:GetService("CoreGui"):FindFirstChild("RobloxPromptGui"):FindFirstChild("promptOverlay").ChildAdded:Connect(function(child) -- –ø—Ä–∏ –∫–∏–∫–µ –∏–≥—Ä–æ–π
    if child.Name == "ErrorPrompt" then
        print("‚ùå Game kick detected, starting server hop")
        -- –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä—è–º—É—é —Ç–µ–ª–µ–ø–æ—Ä—Ç–∞—Ü–∏—é
        game:GetService("TeleportService"):Teleport(85896571713843)
    end
end)

-- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–ª–µ–ø–æ—Ä—Ç–∞—Ü–∏–∏ –Ω–∞ —Ç–æ—Ç –∂–µ —Å–µ—Ä–≤–µ—Ä
game:GetService("Players").LocalPlayer.OnTeleport:Connect(function(state)
    if state == Enum.TeleportState.Started then
        print("üöÄ –¢–µ–ª–µ–ø–æ—Ä—Ç–∞—Ü–∏—è –Ω–∞—á–∞—Ç–∞...")
        -- –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–µ–∫—É—â–∏–π —Å–µ—Ä–≤–µ—Ä –≤ –≥–ª–æ–±–∞–ª—å–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π, —á—Ç–æ–±—ã —Ç–æ—á–Ω–æ –Ω–µ –≤–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –Ω–µ–≥–æ
        _G.DEPARTING_SERVER = game.JobId
        pcall(function()
            writefile("last_server.txt", game.JobId)
        end)
    elseif state == Enum.TeleportState.Failed then
        print("‚ùå –¢–µ–ª–µ–ø–æ—Ä—Ç–∞—Ü–∏—è –Ω–µ —É–¥–∞–ª–∞—Å—å, –ø—Ä–æ–±—É–µ–º —Å–Ω–æ–≤–∞...")
        task.wait(1) -- –ó–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏
        game:GetService("TeleportService"):Teleport(85896571713843)
    end
end)

-- –ù–û–í–ê–Ø –°–ò–°–¢–ï–ú–ê –ó–ê–©–ò–¢–´ –û–¢ –ó–ê–¶–ò–ö–õ–ò–í–ê–ù–ò–Ø
task.spawn(function()
    -- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –≥–ª–æ–±–∞–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–∞ –∑–∞–ø—É—Å–∫–∞
    if not _G.INITIAL_SERVER then
        _G.INITIAL_SERVER = game.JobId
        -- –°–æ—Ö—Ä–∞–Ω—è–µ–º –Ω–∞—á–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –≤ —Ñ–∞–π–ª
        pcall(function()
            writefile("initial_server.txt", game.JobId)
        end)
    end
    
    task.wait(5) -- –î–∞–µ–º –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è
    
    -- –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–∞ —Ç–æ–º –∂–µ –ª–∏ –º—ã —Å–µ—Ä–≤–µ—Ä–µ, —Å –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–∞—á–∞–ª–∏
    if _G.INITIAL_SERVER == game.JobId then
        local file_exists = pcall(function()
            return readfile("initial_server.txt")
        end)
        
        if file_exists then
            local initial_server = readfile("initial_server.txt")
            if initial_server == game.JobId then
                print("‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê: –ó–ê–¶–ò–ö–õ–ò–í–ê–ù–ò–ï –ù–ê –û–î–ù–û–ú –°–ï–†–í–ï–†–ï!")
                
                -- –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –±–ª–æ–∫–∏—Ä—É–µ–º —ç—Ç–æ—Ç —Å–µ—Ä–≤–µ—Ä —á–µ—Ä–µ–∑ –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã
                _G.VISITED_SERVERS[game.JobId] = os.time() + 86400 -- –±–ª–æ–∫–∏—Ä—É–µ–º –Ω–∞ 24 —á–∞—Å–∞
                
                -- –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ —Å–æ–∑–¥–∞–µ–º —Ñ–∞–π–ª –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
                pcall(function()
                    writefile("blocked_" .. game.JobId .. ".txt", "1")
                end)
                
                -- –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ—á–∏—â–∞–µ–º –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
                _G.BLACKLISTED_SERVERS = _G.BLACKLISTED_SERVERS or {}
                _G.BLACKLISTED_SERVERS[game.JobId] = true
                
                -- –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ —É–¥–∞–ª—è–µ–º –≤—Å–µ —Ñ–∞–π–ª—ã —Ç–µ–ª–µ–ø–æ—Ä—Ç–∞—Ü–∏–∏
                pcall(function() delfile("target_server.txt") end)
                pcall(function() delfile("last_server.txt") end)
                
                -- –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä—è–º—É—é —Ç–µ–ª–µ–ø–æ—Ä—Ç–∞—Ü–∏—é –±–µ–∑ –≤—ã–±–æ—Ä–∞ —Å–µ—Ä–≤–µ—Ä–∞
                print("–ó–ê–ü–£–°–ö –ü–†–ò–ù–£–î–ò–¢–ï–õ–¨–ù–û–ô –¢–ï–õ–ï–ü–û–†–¢–ê–¶–ò–ò...")
                task.wait(1)
                game:GetService("TeleportService"):Teleport(85896571713843)
            end
        end
    else
        -- –û–±–Ω–æ–≤–ª—è–µ–º –Ω–∞—á–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
        _G.INITIAL_SERVER = game.JobId
        pcall(function()
            writefile("initial_server.txt", game.JobId)
        end)
    end
end)

-- –ù–û–í–ê–Ø –°–ò–°–¢–ï–ú–ê –ü–†–û–í–ï–†–ö–ò –ü–ï–†–ï–ó–ê–•–û–î–ê –ù–ê –¢–û–¢ –ñ–ï –°–ï–†–í–ï–†
task.spawn(function()
    task.wait(3) -- –î–∞–µ–º –≤—Ä–µ–º—è –¥–ª—è –ø–æ–ª–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏
    
    -- –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —Ñ–∞–π–ª —Å –ø–æ—Å–ª–µ–¥–Ω–∏–º —Å–µ—Ä–≤–µ—Ä–æ–º
    if pcall(function() readfile("last_server.txt") end) then
        local last_server = readfile("last_server.txt")
        if last_server == game.JobId then
            print("‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê: –ü–ï–†–ï–ó–ê–®–õ–ò –ù–ê –¢–û–¢ –ñ–ï –°–ï–†–í–ï–†!")
            
            -- –î–æ–±–∞–≤–ª—è–µ–º –≤ —á–µ—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ–º
            _G.VISITED_SERVERS[game.JobId] = os.time() + 7200 -- –ë–ª–æ–∫–∏—Ä—É–µ–º –Ω–∞ 2 —á–∞—Å–∞
            _G.BLACKLISTED_SERVERS = _G.BLACKLISTED_SERVERS or {}
            _G.BLACKLISTED_SERVERS[game.JobId] = true -- –ï—â–µ –æ–¥–∏–Ω –º–µ—Ö–∞–Ω–∏–∑–º –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
            
            -- –°–æ—Ö—Ä–∞–Ω—è–µ–º —á–µ—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫
            pcall(function()
                writefile(history_file, http_service:JSONEncode(_G.VISITED_SERVERS))
            end)
            
            -- –°–æ–∑–¥–∞–µ–º –±–ª–æ–∫–∏—Ä–æ–≤–æ—á–Ω—ã–π —Ñ–∞–π–ª, —á—Ç–æ–±—ã –±–æ–ª—å—à–µ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∑–∞—Ö–æ–¥–∏—Ç—å –Ω–∞ —ç—Ç–æ—Ç —Å–µ—Ä–≤–µ—Ä
            pcall(function()
                writefile("blocked_server_" .. game.JobId .. ".txt", tostring(os.time()))
            end)
        else
            print("‚úÖ –£—Å–ø–µ—à–Ω–æ –ø–æ–¥–∫–ª—é—á–∏–ª–∏—Å—å –∫ –Ω–æ–≤–æ–º—É —Å–µ—Ä–≤–µ—Ä—É")
            -- –û–±–Ω–æ–≤–ª—è–µ–º —Ñ–∞–π–ª –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
            pcall(function()
                writefile("last_server.txt", game.JobId)
            end)
        end
    else
        -- –°–æ–∑–¥–∞–µ–º —Ñ–∞–π–ª –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞, –µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç
        pcall(function()
            writefile("last_server.txt", game.JobId)
        end)
    end
end)

-- –ü–†–û–í–ï–†–ö–ê –¢–ï–õ–ï–ü–û–†–¢–ê–¶–ò–ò
task.spawn(function()
    task.wait(5) -- –î–∞–µ–º –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è
    
    -- –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –≤–µ—Ä–Ω—É–ª–∏—Å—å –ª–∏ –º—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä, —Å –∫–æ—Ç–æ—Ä–æ–≥–æ –ø—ã—Ç–∞–ª–∏—Å—å —É–π—Ç–∏
    if pcall(function() return readfile("target_server.txt") end) then
        local expected_server = readfile("target_server.txt")
        
        if game.JobId == expected_server then
            print("üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê: –í–û–ó–í–†–ê–¢ –ù–ê –¢–û–¢ –ñ–ï –°–ï–†–í–ï–†!")
            
            -- –°–æ–∑–¥–∞–µ–º –∞–≤–∞—Ä–∏–π–Ω—ã–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
            pcall(function() 
                for i=1,5 do
                    writefile("EMERGENCY_BLOCK_" .. game.JobId .. "_" .. i .. ".txt", "1")
                end
            end)
            
            -- –£–¥–∞–ª—è–µ–º –≤—Å–µ —Ñ–∞–π–ª—ã –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –¥–ª—è —Å–±—Ä–æ—Å–∞ —Å–∏—Å—Ç–µ–º—ã
            pcall(function() delfile("target_server.txt") end)
            pcall(function() delfile("last_server.txt") end)
        else
            print("‚úÖ –£—Å–ø–µ—à–Ω–æ –ø–æ–¥–∫–ª—é—á–∏–ª–∏—Å—å –∫ –Ω–æ–≤–æ–º—É —Å–µ—Ä–≤–µ—Ä—É!")
        end
    end
end)

print("‚úÖ –°–∫—Ä–∏–ø—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω!")
print("üåê astral-market - –õ—É—á—à–∏–π –º–∞–≥–∞–∑–∏–Ω –ø–µ—Ç–æ–≤ –∏ –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –¥–ª—è Grow A Garden")
